<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <link rel="icon" type="image/svg+xml" href="/vite.svg"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Message Collect</title>
</head>
<body>
<main class="scene">
    <script>
        var request =  new XMLHttpRequest();
        let deleteHome = document.createElement("button");
        let catDiv = document.createElement("div");
        let input = document.createElement("input");
        
        request.addEventListener("readystatechange",processRequest,false);
        request.open("GET","https://quino-infernalboyi-dev.apps.sandbox-m4.g2pi.p1.openshiftapps.com/message");
        request.send();
        
        function processRequest(e){
            if (request.readyState == 4 && request.status == 200){
                
                catDiv.innerHTML = request.responseText;
            }
        }
        var request2 =  new XMLHttpRequest();
        deleteHome.setAttribute('id', 'delete-btn');
        deleteHome.innerText = "delete listing";
        deleteHome.addEventListener("click", function(event) {  
            if (event.target.id === 'delete-btn') {
            request2.open("POST","https://quino-infernalboyi-dev.apps.sandbox-m4.g2pi.p1.openshiftapps.com/message");
            request2.send(input.textContent);
            location.reload;
            request.send();
            }});
        
            document.body.appendChild(catDiv);
            document.body.appendChild(deleteHome);
            document.body.appendChild(input);
        
    </script>    
</main>

</body>
</html>
